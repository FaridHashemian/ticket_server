/* ---------- Base ---------- */
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
body{background:#f7f9fb;color:#1f2937;line-height:1.4}

.required{color:#ef4444}
.muted{color:#6b7280}

/* ---------- Splash ---------- */
#splash{
  position:fixed; inset:0; background:#0b1220;
  display:grid; place-items:center; z-index:1000;
  animation: fadeOut 0.4s ease 2s forwards;
}
#splash img{ width:min(54vw,240px); height:auto; filter:drop-shadow(0 12px 30px rgba(0,0,0,.35)); }
@keyframes fadeOut{to{opacity:0;visibility:hidden}}

.site-header{padding:24px 16px;text-align:center;background:#111827;color:#fff}
.site-header h1{font-size:28px;margin-bottom:8px}

.site-main{
  display:grid;
  grid-template-columns:1fr 320px;
  gap:16px; max-width:1200px; margin:16px auto; padding:0 16px;
}
@media (max-width:980px){ .site-main{grid-template-columns:1fr} }

.auth-container{max-width:520px;margin:24px auto;background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:16px}
.auth-section{margin-bottom:12px}
.auth-section h2{font-size:18px;margin-bottom:8px}
label{display:block;margin:8px 0 6px}
input[type=email],input[type=text],input[type=tel]{width:100%;padding:10px;border:1px solid #d1d5db;border-radius:6px}

.affil{border:1px dashed #e5e7eb;padding:10px;border-radius:8px;margin-top:10px}
.affil label{display:inline-flex;align-items:center;gap:6px;margin-right:16px}

.auth-actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
.primary-btn,.secondary-btn{padding:10px 14px;border-radius:8px;border:none;cursor:pointer}
.primary-btn{background:#2563eb;color:#fff}
.primary-btn:disabled{opacity:.6;cursor:not-allowed}
.secondary-btn{background:#e5e7eb;color:#374151}

#notice-container p{margin-top:6px}

.auth-message{color:#b91c1c;margin-top:8px;min-height:20px}
.hidden{display:none!important}

/* ---------- Stage + map ---------- */
#seat-area{margin:12px 0}
.stage{
  text-align:center;font-weight:700;letter-spacing:.2em;background:#111827;color:#fff;
  padding:10px;border-radius:8px 8px 0 0;border:1px solid #e5e7eb;border-bottom:none;
}

/* Container: allow graceful horizontal scroll on very narrow screens */
#seat-map{
  display:flex;              /* vertical stack of rows */
  flex-direction:column;
  gap:10px;
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:0 0 8px 8px;
  padding:12px;
  align-self:start;
  overflow-x:auto;           /* last-resort fallback */
}

/* Each visual row has exactly 27 columns that AUTO-FIT the width */
.seat-row{
  /* tune these once and everything reflows */
  --cols: 27;
  --gap: 8px;
  /* compute cell size so 27 cols + 26 gaps exactly fill row width */
  --cell: calc((100% - (var(--cols) - 1) * var(--gap)) / var(--cols));

  display:grid;
  grid-template-columns:repeat(var(--cols), minmax(28px, var(--cell)));
  gap:var(--gap);
  align-items:center;
}

/* Actual seat cell */
.seat{
  /* width/height come from grid cell; make it square */
  aspect-ratio:1/1;
  width:100%;
  height:auto;

  display:inline-flex; align-items:center; justify-content:center;
  padding:0; text-align:center;
  border:1px solid #c7d2fe;border-radius:6px;user-select:none;
  background:#eff6ff;
  font-weight:600;
  /* scale label with cell size but keep readable bounds */
  font-size:clamp(10px, calc(var(--cell) * 0.32), 14px);
}
.seat.selected{outline:2px solid #2563eb}
.seat.sold{background:#d1d5db;color:#6b7280;border-color:#cbd5e1;cursor:not-allowed}

/* Invisible placeholders keep alignment for rows with < 27 seats */
.seat.placeholder{visibility:hidden;pointer-events:none}

.summary{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:12px;height:fit-content}
.selected-seats{list-style:none;margin:8px 0 12px}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center}
.modal-content{background:#fff;padding:16px;border-radius:10px;min-width:320px;max-width:540px}
.modal-actions{display:flex;gap:8px;margin-top:12px;justify-content:flex-end}

.site-footer{text-align:center;color:#6b7280;font-size:12px;padding:24px 0}